{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.getElementById('search-form');\n    const gallery = document.querySelector('.gallery');\n    const loadMoreBtn = document.querySelector('.load-more');\n    const modal = document.querySelector('.modal');\n    const modalContent = document.querySelector('.modal-content');\n    let currentPage = 1;\n\n    form.addEventListener('submit', async (e) => {\n        e.preventDefault();\n        const searchQuery = e.target.elements.searchQuery.value.trim();\n\n        currentPage = 1;\n\n        if (searchQuery) {\n            await searchImages(searchQuery);\n        } else {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please enter a search query.',\n            });\n        }\n    });\n\n    loadMoreBtn.addEventListener('click', async () => {\n        const searchQuery = form.elements.searchQuery.value.trim();\n        currentPage++;\n\n        if (searchQuery) {\n            await searchImages(searchQuery);\n        }\n    });\n\n    modal.addEventListener('click', () => closeModal());\n\n    async function searchImages(query) {\n        try {\n            const response = await axios.get('https://pixabay.com/api/', {\n                params: {\n                    key: '41114250-186ebd042d251d6e26d9d298e',\n                    q: query,\n                    image_type: 'photo',\n                    orientation: 'horizontal',\n                    safesearch: true,\n                    page: currentPage,\n                    per_page: 40,\n                },\n            });\n\n            const images = response.data.hits;\n\n            if (images.length > 0) {\n                if (currentPage === 1) {\n                    gallery.innerHTML = '';\n                }\n\n                images.forEach((image) => {\n                    const card = createImageCard(image, images);\n                    gallery.appendChild(card);\n                });\n\n                loadMoreBtn.style.display = 'block';\n            } else {\n                loadMoreBtn.style.display = 'none';\n\n                iziToast.info({\n                    title: 'Info',\n                    message: \"Sorry, there are no images matching your search query. Please try again.\",\n                });\n            }\n        } catch (error) {\n            console.error('Error fetching images:', error.message);\n        }\n    }\n\n    function createImageCard(image, images) {\n        const card = document.createElement('div');\n        card.classList.add('photo-card');\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        img.loading = 'lazy';\n\n        img.addEventListener('click', () => openModal(images, images.indexOf(image)));\n\n        const info = document.createElement('div');\n        info.classList.add('info');\n\n        const likes = document.createElement('p');\n        likes.classList.add('info-item');\n        likes.innerHTML = `<b>Likes:</b> ${image.likes}`;\n\n        const views = document.createElement('p');\n        views.classList.add('info-item');\n        views.innerHTML = `<b>Views:</b> ${image.views}`;\n\n        const comments = document.createElement('p');\n        comments.classList.add('info-item');\n        comments.innerHTML = `<b>Comments:</b> ${image.comments}`;\n\n        const downloads = document.createElement('p');\n        downloads.classList.add('info-item');\n        downloads.innerHTML = `<b>Downloads:</b> ${image.downloads}`;\n\n        info.appendChild(likes);\n        info.appendChild(views);\n        info.appendChild(comments);\n        info.appendChild(downloads);\n\n        card.appendChild(img);\n        card.appendChild(info);\n\n        return card;\n    }\n\n    function openModal(images, index) {\n        modalContent.innerHTML = '';\n\n        const modalImg = document.createElement('img');\n        modalImg.src = images[index].largeImageURL;\n        modalImg.alt = images[index].tags;\n\n        const prevBtn = document.createElement('button');\n        prevBtn.innerText = 'Previous';\n        prevBtn.addEventListener('click', () => showImage(images, index - 1));\n\n        const nextBtn = document.createElement('button');\n        nextBtn.innerText = 'Next';\n        nextBtn.addEventListener('click', () => showImage(images, index + 1));\n\n        modalContent.appendChild(modalImg);\n        modalContent.appendChild(prevBtn);\n        modalContent.appendChild(nextBtn);\n\n        modal.style.display = 'flex';\n    }\n\n    function showImage(images, index) {\n        if (index >= 0 && index < images.length) {\n            const modalImg = document.querySelector('.modal-content img');\n            modalImg.src = images[index].largeImageURL;\n            modalImg.alt = images[index].tags;\n        }\n    }\n\n    function closeModal() {\n        modal.style.display = 'none';\n    }\n});"],"names":["form","gallery","loadMoreBtn","modal","modalContent","currentPage","searchQuery","searchImages","iziToast","closeModal","query","images","axios","image","card","createImageCard","error","img","openModal","info","likes","views","comments","downloads","index","modalImg","prevBtn","showImage","nextBtn"],"mappings":"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"}